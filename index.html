<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ドット絵変換ツール</title>
<link rel="stylesheet" href="css/style.css">
</head>
<body>
  <header>
    <h1 data-i18n="title">ドット絵変換ツール</h1>
    <div id="langWrap">
      <label for="langSwitch" data-i18n="language">言語:</label>
      <select id="langSwitch">
        <option value="ja">日本語</option>
        <option value="en">English</option>
      </select>
    </div>
  </header>

  <main>
    <!-- 画像選択 -->
    <section class="input-section">
      <fieldset>
        <legend data-i18n="selectImage">画像ファイルを選択:</legend>
        <input type="file" id="inputImage" accept="image/*">
        <small data-i18n="selectImageDesc">変換したい画像ファイルを選択してください。</small>
      </fieldset>

      <!-- ドットサイズ設定 -->
      <fieldset>
        <legend data-i18n="dotWidth">ドットサイズ設定</legend>
        <label for="dotWidth" data-i18n="dotWidth">ドット幅:</label>
        <input type="number" id="dotWidth" value="50" min="1">
        <small data-i18n="dotWidthDesc">1ドットあたりの幅をピクセル単位で指定します。</small>

        <label for="dotHeight" data-i18n="dotHeight">ドット高さ:</label>
        <input type="number" id="dotHeight" value="50" min="1">
        <small data-i18n="dotHeightDesc">1ドットあたりの高さをピクセル単位で指定します。</small>

        <button id="applyAspect" data-i18n="applyAspect">縦横比を適用</button>
        <small data-i18n="applyAspectDesc">指定したドット幅・高さの比率を選択枠に反映します。</small>

        <label for="selectorColor" data-i18n="selectorColor">選択枠色:</label>
        <select id="selectorColor">
          <option value="red" data-i18n-color="red">Red</option>
          <option value="blue" data-i18n-color="blue">Blue</option>
          <option value="black" data-i18n-color="black">Black</option>
          <option value="white" data-i18n-color="white">White</option>
        </select>
        <small data-i18n="selectorColorDesc">画像上の選択枠の色を変更します。</small>
      </fieldset>

      <!-- グリッド・選択枠設定 -->
      <fieldset>
        <legend data-i18n="gridBase">グリッド・選択枠設定</legend>
        <label for="gridBase" data-i18n="gridBase">基準横幅(px):</label>
        <input type="number" id="gridBase" value="400" min="1">
        <small data-i18n="gridBaseDesc">変換後キャンバスの基準横幅を設定します。ドット幅に応じて自動調整されます。</small>

        <label for="gridColor" data-i18n="gridColor">グリッド線色:</label>
        <select id="gridColor">
          <option value="red" data-i18n-color="red">Red</option>
          <option value="blue" data-i18n-color="blue">Blue</option>
          <option value="black" data-i18n-color="black">Black</option>
          <option value="white" data-i18n-color="white">White</option>
        </select>
        <small data-i18n="gridColorDesc">グリッド線の色を選択します。</small>
      </fieldset>

      <!-- 変換実行 -->
      <fieldset>
        <button id="convertBtn" data-i18n="convert">変換する</button>
        <small data-i18n="convertDesc">設定に基づき、ドット絵に変換します。</small>
      </fieldset>
    </section>

    <!-- キャンバス表示 -->
    <section class="canvas-section">
      <div id="imageContainer">
        <canvas id="sourceCanvas"></canvas>
      </div>
      <canvas id="resultCanvas"></canvas>
    </section>
  </main>

<script type="module" src="js/app.js"></script>
</body>
</html>
