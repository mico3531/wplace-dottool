<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>WPLACE ドット絵変換ツール</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <!-- 言語切替トグル -->
  <select id="langSwitch">
    <option value="ja" selected>日本語</option>
    <option value="en">English</option>
  </select>

  <h1 data-i18n="title">WPLACE ドット絵変換ツール</h1>

  <label data-i18n="upload">画像アップロード (JPG, PNG):</label>
  <input type="file" id="inputImage" accept="image/png, image/jpeg" />

  <div>
    <label data-i18n="dotWidth">ドット絵 横サイズ:</label>
    <input type="number" id="dotWidth" value="32" min="1" />
    <label data-i18n="dotHeight">ドット絵 縦サイズ:</label>
    <input type="number" id="dotHeight" value="32" min="1" />
    <button id="applyAspect" data-i18n="applyAspect">アスペクト比反映</button>

    <br>

    <label for="selectorColor" data-i18n="selectorColor">長方形選択枠の色:</label>
    <select id="selectorColor">
      <option value="red" selected>赤</option>
      <option value="blue">青</option>
      <option value="black">黒</option>
      <option value="white">白</option>
    </select>
  </div>

  <div>
    <label for="gridBase" data-i18n="gridBase">グリッド線の太さ基準値:</label>
    <input type="number" id="gridBase" value="400" min="1" step="1">
    <small data-i18n="gridBaseNote">(横のドット数 w に対し、線の太さ ≈ (基準値 ÷ w) px で描画します。)</small>
    <br>
    <label for="gridColor" data-i18n="gridColor">グリッド線色:</label>
    <select id="gridColor">
      <option value="red" selected>赤</option>
      <option value="blue">青</option>
      <option value="black">黒</option>
      <option value="white">白</option>
    </select>
  </div>

  <div id="imageContainer" style="position: relative; display: inline-block; border: 1px solid #ccc;">
    <canvas id="sourceCanvas"></canvas>
  </div>

  <div>
    <button id="convertBtn" data-i18n="convert">ドット絵に変換</button>
  </div>

  <h2 data-i18n="result">変換結果</h2>
  <canvas id="resultCanvas" style="border: 1px solid #666;"></canvas>

  <script type="module" src="js/app.js"></script>
</body>
</html>
